{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nexport const addtopcart = createAsyncThunk('cart/pcart', async (body, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  try {\n    return body;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const addtohcart = createAsyncThunk('cart/hcart', async (body, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  try {\n    return body;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const removehcart = createAsyncThunk('cart/removehcart', async (_ref3, _ref4) => {\n  let {\n    id\n  } = _ref3;\n  let {\n    rejectWithValue\n  } = _ref4;\n  try {\n    return {\n      id\n    };\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const removepcart = createAsyncThunk('cart/removepcart', async (_ref5, _ref6) => {\n  let {\n    id\n  } = _ref5;\n  let {\n    dispatch\n  } = _ref6;\n  try {\n    return {\n      id\n    };\n  } catch (error) {\n    console.error('Error fetching departments:', error);\n  }\n});\nexport const addtodbcart = createAsyncThunk('cart/addtodbcart', async (body, _ref7) => {\n  let {\n    rejectWithValue\n  } = _ref7;\n  try {\n    const response = await fetch(`${BASE_URL}Products/addtocart`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    });\n    if (!response.ok) {\n      throw new Error('Failed to send OTP');\n    }\n    const data = await response.json();\n    return true;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    pcartitems: [],\n    pcarttotal: 0,\n    hcartitems: [],\n    carttotal: 0,\n    hcarttotal: 0,\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(addtopcart.fulfilled, (state, action) => {\n      state.pcartitems.push(action.payload);\n      state.pcarttotal += 1;\n      state.carttotal += 1;\n      state.isLoading = false;\n      state.error = null;\n    }).addCase(addtohcart.fulfilled, (state, action) => {\n      state.hcartitems.push(action.payload);\n      state.hcarttotal += 1;\n      state.carttotal += 1;\n      state.isLoading = false;\n      state.error = null;\n    }).addCase(removepcart.fulfilled, (state, action) => {\n      const {\n        id\n      } = action.payload;\n      state.pcarttotal -= 1;\n      state.carttotal -= 1;\n      state.pcartitems = state.pcartitems.filter(item => item.id !== id);\n    }).addCase(removehcart.fulfilled, (state, action) => {\n      const {\n        id\n      } = action.payload;\n      state.hcartitems = state.hcartitems.filter(item => item.id !== id);\n      state.hcarttotal -= 1;\n      state.carttotal -= 1;\n    });\n  }\n});\nexport default cartSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","createApi","fetchBaseQuery","addtopcart","body","_ref","rejectWithValue","error","message","addtohcart","_ref2","removehcart","_ref3","_ref4","id","removepcart","_ref5","_ref6","dispatch","console","addtodbcart","_ref7","response","fetch","BASE_URL","method","headers","JSON","stringify","ok","Error","data","json","cartSlice","name","initialState","pcartitems","pcarttotal","hcartitems","carttotal","hcarttotal","reducers","extraReducers","builder","addCase","fulfilled","state","action","push","payload","isLoading","filter","item","reducer"],"sources":["D:/react/website/finalcode/src/Redux/Slice/cartSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\n\r\n\r\nexport const addtopcart = createAsyncThunk(\r\n  'cart/pcart',\r\n async (body, { rejectWithValue }) => {\r\n    try {\r\n\r\n\r\n      return body;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\nexport const addtohcart = createAsyncThunk(\r\n  'cart/hcart',\r\n async (body, { rejectWithValue }) => {\r\n    try {\r\n\r\n\r\n      return body;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\nexport const removehcart = createAsyncThunk(\r\n  'cart/removehcart',\r\n\r\n async ({id }, { rejectWithValue }) => {\r\n    try {\r\n\r\n\r\n      return { id };\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\nexport const removepcart = createAsyncThunk(\r\n  'cart/removepcart',\r\n async ({id }, { dispatch }) => {\r\n    try {\r\n\r\n\r\n      return { id };\r\n    } catch (error) {\r\n      console.error('Error fetching departments:', error);\r\n    }\r\n  }\r\n);\r\nexport const addtodbcart = createAsyncThunk(\r\n  'cart/addtodbcart',\r\n  async (body, { rejectWithValue }) => {\r\n    try {\r\n      const response = await fetch(`${BASE_URL}Products/addtocart`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to send OTP');\r\n      }\r\n\r\n      const data = await response.json();\r\n     return true;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState: {\r\n    pcartitems: [],\r\n    pcarttotal:0,\r\n     hcartitems: [],\r\n     carttotal:0,\r\n        hcarttotal:0,\r\n    error: null,\r\n\r\n  },\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n\r\n      .addCase(addtopcart.fulfilled, (state, action) => {\r\n        state.pcartitems.push(action.payload);\r\n\r\nstate.pcarttotal += 1;\r\nstate.carttotal += 1;\r\n\r\n        state.isLoading = false;\r\n        state.error = null;\r\n      })\r\n    .addCase(addtohcart.fulfilled, (state, action) => {\r\n        state.hcartitems.push(action.payload);\r\n\r\nstate.hcarttotal += 1;\r\nstate.carttotal += 1;\r\n        state.isLoading = false;\r\n        state.error = null;\r\n      })\r\n\r\n  .addCase(removepcart.fulfilled, (state, action) => {\r\n  const {id} = action.payload;\r\n\r\n   state.pcarttotal -= 1;\r\n   state.carttotal -= 1;\r\n      state.pcartitems = state.pcartitems.filter(item => item.id !== id);\r\n\r\n\r\n      })\r\n        .addCase(removehcart.fulfilled, (state, action) => {\r\n              const {id} = action.payload;\r\n\r\n state.hcartitems = state.hcartitems.filter(item => item.id !== id);\r\n\r\n state.hcarttotal -= 1;\r\n state.carttotal -= 1;\r\n\r\n            });\r\n\r\n  },\r\n});\r\nexport default cartSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}